:root { --bg:#f6f8fb; --panel:#fff; --accent:#2b8cff; --muted:#6b7280; --border:#111; }
*{box-sizing:border-box}
body { font-family:Arial,Helvetica,sans-serif; background:var(--bg); margin:0; padding:28px; }
.container { max-width:1500px; margin:0 auto; display:flex; gap:18px }
.left-column { flex:1 1 auto; min-width:0; }
.top { display:flex; gap:12px; align-items:center; margin-bottom:18px }
.label { font-weight:700; min-width:120px; font-size:1.05rem }
input[type=text], input[list] { flex:1; padding:12px 18px; border-radius:999px; border:2px solid #e6e9ef; background:#fff; font-size:1rem }
button { padding:10px 14px; border-radius:12px; border:none; cursor:pointer; font-weight:700 }
button.primary { background:var(--accent); color:#fff }
.main { display:flex; gap:18px }
.left { width:180px; background:transparent; padding:0; display:flex; flex-direction:column; gap:8px; align-items:flex-start }
.btn-list { display:flex; flex-direction:column; gap:8px; width:100% }
.type-btn { width:100%; padding:14px; border-radius:6px; border:3px solid var(--border); background:#fff; text-align:center; cursor:pointer; font-weight:700 }
.type-btn.active { background:linear-gradient(90deg,#e6f0ff,#ffffff); border-color:var(--accent); color:var(--accent) }
.canvas { background:var(--panel); padding:30px; border-radius:12px; box-shadow:0 6px 18px rgba(12,40,80,0.06); display:flex; flex-direction:column; flex:1; }
.plot-area { margin-top:14px; border:4px solid #111; border-radius:6px; display:flex; align-items:center; justify-content:center; padding:12px; background:#fff; min-height:520px; width:100%; }
.plot-area img { width:100%; height:100%; max-height:100%; display:block; object-fit:contain; }
@media (max-width:1100px) { .container { padding:18px } .left-column { min-width:0 } }
.chat-column { width:320px; display:flex; flex-direction:column; gap:12px }
.chat-panel { background:var(--panel); border-radius:12px; padding:12px; height:640px; box-shadow:0 6px 18px rgba(12,40,80,0.06); display:flex; flex-direction:column }
.chat-header { display:flex; align-items:center; justify-content:space-between; gap:8px }
.chat-title { font-weight:700 }
.chat-sub { color:var(--muted); font-size:0.9rem }
.messages { flex:1; overflow:auto; padding:8px; display:flex; flex-direction:column; gap:8px }
.msg { max-width:82%; padding:10px 12px; border-radius:12px; font-size:0.95rem; white-space:pre-wrap; word-wrap:break-word }
.msg.user { align-self:flex-end; background:linear-gradient(90deg,#2b8cff,#2b6fe6); color:white; border-bottom-right-radius:4px }
.msg.bot { align-self:flex-start; background:#f2f5fb; color:#111 }
.chat-input-row { display:flex; gap:8px; margin-top:10px }
.chat-input { flex:1; padding:10px 12px; border-radius:8px; border:1px solid #e3e6ee; background:#fff }
.chat-send { padding:10px 12px; border-radius:8px; border:none; background:var(--accent); color:#fff; cursor:pointer }
.small-muted { color:var(--muted); font-size:0.86rem }
.loading-dot { display:inline-block; width:6px; height:6px; border-radius:50%; background:var(--accent); animation:blink 1s infinite; margin-left:6px }
@keyframes blink { 0%{opacity:1}50%{opacity:0.2}100%{opacity:1} }
@keyframes spin { 0%{ transform: rotate(0deg); } 100%{ transform: rotate(360deg); } }
.messages::-webkit-scrollbar { width:8px }
.messages::-webkit-scrollbar-thumb { background:rgba(0,0,0,0.06); border-radius:8px }